:sourcesdir: ../../../../../source

[[gui_attributes]]
===== XML-атрибуты компонентов

[[gui_attr_align]]
align:: 
+
--
Атрибут, задающий расположение компонента относительно вышестоящего контейнера. Возможные значения:

* `++TOP_RIGHT++`

* `++TOP_LEFT++`

* `++TOP_CENTER++`

* `++MIDDLE_RIGHT++`

* `++MIDDLE_LEFT++`

* `++MIDDLE_CENTER++`

* `++BOTTOM_RIGHT++`

* `++BOTTOM_LEFT++`

* `++BOTTOM_CENTER++`
--

[[gui_attr_expandRatio]]
box.expandRatio::
+
--

В контейнерах <<gui_BoxLayout_vbox,vbox>> и <<gui_BoxLayout_hbox,hbox>> компоненты размещаются в слотах. Атрибут `box.expandRatio` определяет относительную длину для каждого слота. Принимает значение большее или равное 0.

[source, xml]
----
include::{sourcesdir}/gui_vcl/expandRatio.xml[]
----

Если для компонента указать `box.expandRatio=1`, а его <<gui_attr_height,высота>> или <<gui_attr_width,ширина>> (в зависимости от типа контейнера) составляет 100%, компонент будет расширен на всё доступное пространство в направлении размещения компонентов.

По умолчанию слоты для компонентов, в зависимости от типа контейнера, имеют одинаковую высоту или ширину (т.е. `box.expandRatio=1`). Если хотя бы одному компоненту установлено иное значение, все неявные значения игнорируются и учитываются только явно присвоенные значения.

См. также атрибут <<gui_attr_expand,expand>>.

--

[[gui_attr_caption]]
caption:: 
+
--
Атрибут, устанавливающий заголовок для визуального компонента.

Значением атрибута должна быть либо строка сообщения, либо ключ в <<message_packs,пакете сообщений>>. В случае ключа значение должно начинаться с префикса `msg://`

Способы задания ключа:

* Короткий ключ − при этом сообщение ищется в пакете, заданном для данного экрана:
+
[source, plain]
----
caption="msg://infoFieldCaption"
----

* Полный ключ, с заданием пакета:
+
[source, plain]
----
caption="msg://com.company.sample.gui.screen/infoFieldCaption"
----
--

[[gui_attr_captionAsHtml]]
captionAsHtml::
+
--
Определяет, разрешена ли HTML-разметка в <<gui_attr_caption,заголовке>> компонента. Если выбрано значение `true`, заголовки отображаются в браузере как HTML, при этом ответственность за безопасность используемого HTML-кода несёт сам разработчик. Если выбрано значение `false`, содержимое заголовка отображается как обычный текст.

Возможные значения − `true`, `false`. По умолчанию `false`.
--

[[gui_attr_captionProperty]]
captionProperty:: 
+
--
Задает имя атрибута сущности, отображаемого компонентом. Используется только для сущностей, находящихся в источнике данных (например заданном для <<gui_LookupField,LookupField>> свойством <<gui_attr_optionsDatasource,optionsDatasource>>).

Если `captionProperty` не задан, будет отображаться <<namePattern_annotation,имя экземпляра>>.
--

[[gui_attr_colspan]]
colspan:: 
+
--
Указывает, сколько колонок сетки должен занять компонент (по умолчанию 1).

Данный атрибут может быть назначен любому компоненту, находящемуся непосредственно внутри контейнера <<gui_GridLayout,GridLayout>>.
--

[[gui_attr_contextHelpText]]
contextHelpText::
+
--
Атрибут, задающий текст контекстной подсказки для компонента. Если установлено значение, рядом с полем будет отображаться специальный значок *?*. Если поле имеет отдельный заголовок, то есть, установлены атрибуты <<gui_attr_caption,caption>> или <<gui_attr_icon,icon>>, значок подсказки будет отображаться рядом с заголовком, в противном случае - рядом с самим полем:

image::gui_attr_contextHelpIcon.png[align="center"]

В *web*-клиенте подсказка отображается при наведении курсора мыши на значок *?*.

[source, xml]
----
<textField id="textField"
           contextHelpText="msg://contextHelp"/>
----

image::gui_attr_contextHelp.png[align="center"]
--

[[gui_attr_contextHelpTextHtmlEnabled]]
contextHelpTextHtmlEnabled::
+
--
Указывает, может ли текст контекстной подсказки быть обработан как HTML.

[source, xml]
----
<textField id="textField"
           description="Description"
           contextHelpText="<p><h1>Lorem ipsum dolor</h1> sit amet, <b>consectetur</b> adipiscing elit.</p><p>Donec a lobortis nisl.</p>"
           contextHelpTextHtmlEnabled="true"/>
----

image::gui_attr_contextHelpHtml.png[align="center"]

Возможные значения − `true`, `false`.
--

[[gui_attr_css]]
css::
+
--
Позволяет декларативно указывать CSS-свойства для визуальных UI. Может использоваться совместно с атрибутом <<gui_attr_stylename,stylename>>, см. пример ниже.

.Описание компонента в XML:
[source, xml]
----
<cssLayout css="display: grid; grid-gap: 10px; grid-template-columns: 33% 33% 33%"
           stylename="demo"
           width="100%"
           height="100%">
    <label value="A" css="grid-column: 1 / 3; grid-row: 1"/>
    <label value="B" css="grid-column: 3; grid-row: 1 / 3;"/>
    <label value="C" css="grid-column: 1; grid-row: 2;"/>
    <label value="D" css="grid-column: 2; grid-row: 2;"/>
</cssLayout>
----

.Дополнительный CSS:
[source, css]
----
  .demo > .v-label {
    display: block;
    background-color: #444;
    color: #fff;
    border-radius: 5px;
    padding: 20px;
    font-size: 150%;
  }
----
--

[[gui_attr_dataContainer]]
dataContainer::
+
--
Предназначен для задания data container, описанного в секции `data` XML-дескриптора экрана.

При указании атрибута `dataContainer` для компонента необходимо также задать атрибут <<gui_attr_property,property>>.
--

[[gui_attr_dataLoader]]
dataLoader::
+
--
Предназначен для задания <<gui_data_loaders,data loader>>, описанного в секции `data` XML-дескриптора экрана для data container.
--

[[gui_attr_datasource]]
datasource:: 
+
--
Предназначен для задания <<datasources,источника данных>>, описанного в секции `dsContext` XML-дескриптора экрана.

При указании атрибута `datasource` для компонента, реализующего интерфейс `DatasourceComponent`, необходимо также задать атрибут <<gui_attr_property,property>>.
--

[[gui_attr_datatype]]
datatype::
+
--
Предназначен для задания типа данных, если поле не связано с атрибутом сущности (то есть не указан контейнер данных и название атрибута). В качестве значения атрибута указывается имя типа данных, зарегистрированного в метаданных приложения − см. <<datatype>>.

Атрибут используется для компонентов <<gui_TextField,TextField>>, <<gui_DateField,DateField>>, <<gui_DatePicker,DatePicker>>, <<gui_TimeField,TimeField>>.
--

[[gui_attr_description]]
description:: 
Атрибут, задающий текст подсказки для компонента, отображаемой при наведении курсора мыши или клике в области компонента.

[[gui_attr_descriptionAsHtml]]
descriptionAsHtml::
+
--
Определяет, разрешена ли HTML-разметка в <<gui_attr_description,описании>> компонента. Если выбрано значение `true`, заголовки отображаются в браузере как HTML, при этом ответственность за безопасность используемого HTML-кода несёт сам разработчик. Если выбрано значение `false`, содержимое заголовка отображается как обычный текст.

Возможные значения − `true`, `false`. По умолчанию `false`.
--

[[gui_attr_editable]]
editable:: 
+
--
Атрибут, указывающий на возможность редактирования содержимого компонента (не путать с <<gui_attr_enable,enable>>).

Возможные значения − `true`, `false`. По умолчанию `true`.

На возможность редактирования содержимого для компонента, связанного с данными (наследника `DatasourceComponent` или `ListComponent`), влияет также подсистема безопасности. Если по данным <<security_subsystem,подсистемы безопасности>> данный компонент должен быть недоступен для редактирования, значение атрибута `editable` не принимается во внимание.
--

[[gui_attr_enable]]
enable:: 
+
--
Атрибут компонента, устанавливающий его состояние: доступен, недоступен.

Если компонент недоступен, то он не принимает фокус ввода. Недоступность контейнера приводит к тому, что все его компоненты также становятся недоступными. Возможные значения − `true`, `false`. По умолчанию все компоненты доступны.
--

[[gui_attr_expand]]
expand:: 
+
--
Атрибут контейнера для управления его внутренней компоновкой.

Задает компонент внутри контейнера, который необходимо расширить на все доступное пространство в направлении размещения компонентов. Для контейнера с вертикальным размещением устанавливает компоненту 100% высоту, для контейнера с горизонтальным размещением - 100% ширину. Кроме того, при изменении размера контейнера изменять размер будет именно этот компонент.

См.также <<gui_attr_expandRatio,box.expandRatio>>.
--

[[gui_attr_height]]
height:: 
+
--
Атрибут, устанавливающий высоту компонента.

Может быть задана в пикселях либо в процентах от высоты вышестоящего контейнера. Например: `100px`, `100%`, `50`. Если единица измерения не указана, подразумевается высота в пикселях.

Установка значения в `%` означает, что компонент по высоте займет соответствующую часть пространства, предоставляемого контейнером более высокого уровня.

При выборе значения `AUTO` или `-1px` для компонента устанавливается высота по умолчанию, для контейнера высота определяется по содержимому, то есть суммарной высотой вложенных компонентов.
--

[[gui_attr_icon]]
icon:: 
+
--
Атрибут, устанавливающий значок для визуального компонента.

Значением атрибута должен быть путь к файлу значка относительно каталога <<gui_themes,темы>>:

[source, xml]
----
icon="icons/create.png"
----

либо его имя в используемом <<icon_set,наборе значков>>:

[source, xml]
----
icon="CREATE_ACTION"
----

Если значок должен быть выбран в зависимости от языка пользователя, можно указать путь к нему в пакете сообщений, а в атрибуте `icon` − ключ сообщения, например:

[source, xml]
----
icon="msg://addIcon"
---- 

В веб-клиенте с <<gui_themes,темой>> Halo (или производной от нее) вместо файлов можно использовать элементы шрифта Font Awesome. Для этого достаточно указать константу из класса `com.vaadin.server.FontAwesome` с префиксом `font-icon:` например:

[source, xml]
----
icon="font-icon:BOOK"
----

Подробнее об использовании значков можно прочитать в разделе <<gui_icons>>.
--

[[gui_attr_id]]
id:: 
+
--
Идентификатор компонента.

Рекомендуется формировать значение по правилам Java-идентификаторов и использовать camelСase, например, `userGrid`, `filterPanel`.Может быть указан для любого компонента и должен быть уникальным в пределах экрана.
--

[[gui_attr_inputPrompt]]
inputPrompt:: 
+
--
Атрибут `inputPrompt` задает строку, отображаемую в поле, если его значение равно `null`.

[source, xml]
----
<suggestionField inputPrompt="Let's search something!"/>
----

Атрибут используется для компонентов <<gui_TextField,TextField>>, <<gui_LookupField,LookupField>>, <<gui_LookupPickerField,LookupPickerField>>, <<gui_SearchPickerField,SearchPickerField>>, <<gui_SuggestionPickerField,SuggestionPickerField>> только в веб-клиенте.
--

[[gui_attr_margin]]
margin:: 
+
--
Атрибут `margin` устанавливает наличие отступа между внешними границами и содержимым контейнера.

Может иметь два вида значений:

* `margin="true"` − установить отступ со всех сторон сразу

* `margin="true,false,true,false"` − установить отступ только сверху и снизу (формат значения "сверху,справа,снизу,слева")

По умолчанию отступы отсутствуют.
--

[[gui_attr_nullName]]
nullName:: 
+
--
Идентификатор опции, выбор которой будет равносилен установке значения в `null`.

Атрибут используется для компонентов <<gui_LookupField,LookupField>>, <<gui_LookupPickerField,LookupPickerField>>, <<gui_SearchPickerField,SearchPickerField>>.

Пример для компонента <<gui_LookupField,LookupField>>, установка значения атрибута в <<screen_xml_glossentry,XML-дескрипторе>>:

[source, xml]
----
include::{sourcesdir}/gui_vcl/nullname_1.xml[]
----

Пример для компонента <<gui_LookupField,LookupField>>, установка значения атрибута в <<screen_controller_glossentry,контроллере>>: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/nullname_2.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/nullname_3.java[]
----
--

[[gui_attr_openType]]
openType::
+
--
Задает режим открытия связанного экрана. Соответствует перечислению `WindowManager.OpenType` со значениями `NEW_TAB`, `THIS_TAB`, `NEW_WINDOW`, `DIALOG`.  По умолчанию `THIS_TAB`.
--

[[gui_attr_optionsContainer]]
optionsContainer::
+
--
Задает имя контейнера <<gui_data_containers,data container>>, используемого для формирования списка опций.

Совместно с `optionsContainer` может использоваться атрибут <<gui_attr_captionProperty,captionProperty>>.
--

[[gui_attr_optionsDatasource]]
optionsDatasource:: 
+
--
Задает имя <<datasources,источника данных>>, используемого для формирования списка опций.

Совместно с `optionsDatasource` может использоваться атрибут <<gui_attr_captionProperty,captionProperty>>.
--

[[gui_attr_optionsEnum]]
optionsEnum::
+
--
Задаёт полное имя класса <<enum_attributes,перечисления>>, используемого для формирования списка опций.
--

[[gui_attr_property]]
property:: 
+
--
Атрибут компонента, реализующего интерфейс `DatasourceComponent`.

Предназначен для задания имени атрибута сущности, значение которого будет отображаться или редактироваться данным визуальным компонентом.

Используется всегда совместно с атрибутом <<gui_attr_datasource,datasource>>.
--

[[gui_attr_required]]
required:: 
+
--
Атрибут визуального компонента, реализующего интерфейс `Field`. Указывает, что в данное поле обязательно должно быть введено значение.

Возможные значения атрибута − `true`, `false`. По умолчанию `false`.

Совместно с `required` может использоваться атрибут <<gui_attr_requiredMessage,requiredMessage>>.
--

[[gui_attr_requiredMessage]]
requiredMessage:: 
+
--
XML-атрибут, используемый совместно с атрибутом <<gui_attr_required,required>>. Позволяет установить сообщение, выводимое пользователю в случае нарушения требования <<gui_attr_required,required>>.

Атрибут может содержать сообщение или ключ в пакете сообщений, например: `requiredMessage="msg://infoTextField.requiredMessage"`
--

[[gui_attr_responsive]]
responsive::
+
--
Определяет, должен ли компонент реагировать на изменения размеров доступной области. Реакцию можно задать с помощью <<web_theme_extension,стилей>>.

Возможные значения атрибута − `true`, `false`. По умолчанию `false`.
--

[[gui_attr_rowspan]]
rowspan:: 
+
--
Указывает, сколько строк сетки должен занять компонент (по умолчанию 1).

Данный атрибут может быть назначен любому компоненту, находящемуся непосредственно внутри контейнера <<gui_GridLayout,GridLayout>>.
--

[[gui_attr_settingsEnabled]]
settingsEnabled::
+
--
Определяет, нужно ли сохранять пользовательские настройки отображения компонента. Настройки сохраняются только для компонентов, имеющих <<gui_attr_id,id>>.

Возможные значения атрибута − `true`, `false`. По умолчанию `true`.
--

[[gui_attr_spacing]]
spacing:: 
+
--
Атрибут `spacing` устанавливает наличие отступов между компонентами внутри контейнера.

Возможные значения − `true`, `false`.

По умолчанию отступы отсутствуют.
--

[[gui_attr_stylename]]
stylename:: 
Атрибут, задающий имя стиля компонента. Подробнее см. <<gui_themes>>.
+
--
В теме `halo` определено несколько стандартных стилей для компонентов:

[[gui_attr_stylename_huge]]
* `huge` - устанавливает размер поля 160% от его размера по умолчанию.

[[gui_attr_stylename_large]]
* `large` - устанавливает размер поля 120% от его размера по умолчанию.

[[gui_attr_stylename_small]]
* `small` - устанавливает размер поля 85% от его размера по умолчанию.

[[gui_attr_stylename_tiny]]
* `tiny` - устанавливает размер поля 75% от его размера по умолчанию.
--

[[gui_attr_tabCaptionsAsHtml]]
tabCaptionsAsHtml::
+
--
Определяет, разрешена ли HTML-разметка в заголовках вкладок. Если выбрано значение `true`, заголовки отображаются в браузере как HTML, при этом ответственность за безопасность используемого HTML-кода несёт сам разработчик. Если выбрано значение `false`, содержимое заголовка отображается как обычный текст.

Возможные значения − `true`, `false`. По умолчанию `false`.
--

[[gui_attr_tabIndex]]
tabIndex::
+
--
Определяет, может ли компонент принимать фокус, и задаёт относительный порядок перехода фокуса между компонентами экрана.

Может принимать положительное или отрицательное целочисленное значение:

* `отрицательное значение` означает, что компонент может принимать фокус, но будет пропущен при последовательном перемещении фокуса с клавиатуры;

* `0` означает, что компонент может принимать фокус, в том числе и при его перемещении с клавиатуры, но его относительный порядковый номер будет совпадать с его расположением на экране относительно других компонентов.

* `положительное значение` означает, что компонент может принимать фокус, в том числе и при его перемещении с клавиатуры. Относительный порядковый номер компонента будет совпадать со значением атрибута: фокус будет перемещаться от меньшего значения `tabIndex` к большему. Если для нескольких компонентов установлено одинаковое значение `tabIndex`, порядок их фокуса будет совпадать с их расположением на экране относительно друг друга.
--

[[gui_attr_tabsVisible]]
tabsVisible::
+
--
Определяет, должна ли область выбора вкладок отображаться в UI.

Возможные значения − `true`, `false`. По умолчанию `true`.
--

[[gui_attr_textSelectionEnabled]]
textSelectionEnabled::
+
--
Определяет, разрешено ли выделение текста в ячейках таблицы.

Возможные значения атрибута − `true`, `false`. По умолчанию `false`.
--

[[gui_attr_visible]]
visible:: 
+
--
Атрибут, устанавливающий видимость компонента. Возможные значения − `true`, `false`. 

Если контейнер невидим, не видны и все его компоненты. По умолчанию все компоненты видимы.
--

[[gui_attr_width]]
width:: 
+
--
Атрибут, устанавливающий ширину компонента.

Значение может быть задано в пикселях или в процентах от ширины вышестоящего контейнера. Например: `100px`, `100%`, `50`. Если единица измерения не указана, подразумевается ширина в пикселях. Простановка значения в `%` означает, что компонент по ширине займет соответствующую часть пространства, предоставляемого контейнером более высокого уровня.

При выборе значения `AUTO` или `-1px` для компонента устанавливается ширина по умолчанию, для контейнера ширина определяется по содержимому, то есть суммарной шириной вложенных компонентов.
--

